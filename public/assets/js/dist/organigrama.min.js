!function(e){function o(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,o),n.l=!0,n.exports}var t={};o.m=e,o.c=t,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p="",o(o.s=64)}({64:function(e,o,t){e.exports=t(65)},65:function(e,o){function t(e,o){null==o.node.secondParent&&(n.posicion=o.node.data,n.posicion.id=o.node.id,n.posicion.colaboradores=[],c(n.posicion.id),d(n.posicion.id),$("#modalColaborador").modal("show"),$("#modalColaborador").on("shown.bs.modal",function(e){$(".select2").select2()}))}function a(e,o){for(i=0;i<o.content.length;i++){var t="";-1!=o.content[i].indexOf(o.node.data.talentReview)&&void 0!=o.node.data.talentReview&&(t="<foreignObject x='298' y='150' width='30px' height='20px'><h2 align='center' style='background-color: rgba(255,255,255,1); border:1px solid rgba(0,0,0,0.1);' data-toggle='tooltip' data-placement='top' title='' data-original-title='Tooltip on top'>"+o.node.data.talentReview+"</h2></foreignObject>"),0!=o.node.data.lupa&&(t+="<foreignObject x='290' y='150' width='20px' height='20px'><i class='fa fa-search fa-4x m-r-5 text-warning'></i></foreignObject>"),void 0!=o.node.data.edd&&(t+="<foreignObject x='230' y='150' width='45px' height='20px'><h2 style='background-color: rgba(255,255,255,1); border:1px solid rgba(0,0,0,0.1);'>"+o.node.data.edd+"</h2></foreignObject>"),-1!=o.content[i].indexOf(o.node.data.Atributos)&&(t+="<foreignObject x='200' y='80' width='80%' height='20px'>"+o.node.data.Atributos+"</foreignObject>",o.content[i]=t)}}var n=new Vue({el:"#cColaboradores",data:{posicion:{colaboradores:[],sucesores:[]},colaboradoresList:[]},methods:{setSucesor:function(e,o){$.ajax({type:"GET",url:"/Talento/Talento/setSucesor",contentType:"application/json; charset=utf-8",data:{idProcesoPersona:e,idPosicion:o},dataType:"json",async:!1,success:function(e){s(),$("#modalColaborador").modal("hide")}})},delSucesor:function(e){$.ajax({type:"GET",url:"/Talento/Talento/delSucesor",contentType:"application/json; charset=utf-8",data:{idSucesion:e},dataType:"json",async:!1,success:function(e){s(),$("#modalColaborador").modal("hide")}})},setEstrategia:function(e){var o=$("#cmbSucesor").val(),t={idProcesoPersona:o,idPosicion:e};$.ajax({type:"GET",url:"/Talento/Talento/setSucesor",contentType:"application/json; charset=utf-8",data:t,dataType:"json",async:!1,success:function(e){s(),$("#modalColaborador").modal("hide")}})}}}),r=function(e){var o=[],n={},i=document.getElementById("people");for(var r in e){var d="",c=!1;void 0!=e[r].valorEdeEq&&null!=e[r].idCuadrante&&null!=e[r].valor&&(-1!=e[r].valorEdeEq.indexOf(e[r].edd)&&e[r].idCuadrante==e[r].idCuadranteEq||(c=!0)),null==e[r].idCuadrante&&(c=!1);for(var s in e[r].atributos)d+="<i class='"+e[r].atributos[s].iconoAtributo+" fa-3x m-r-5 "+e[r].atributos[s].colorAtributo+"' data-toggle='tooltip' data-placement='top' title='' data-original-title='Tooltip on top'></i>";1==e[r].critico&&(d+="<i class='fa fa-star fa-3x m-r-5 text-warning'></i>"),""==d&&(d="&nbsp");var l={id:e[r].idPosicion,parentId:e[r].idPadre,secondParenId:e[r].idSucede,Nombre:e[r].nombresPersona+" "+e[r].apellidoPaterno+" "+e[r].apellidoMaterno,Cargo:e[r].nombre,Atributos:d,Imagen:e[r].fotoPersona,Cuadrante:e[r].nombreCuadrante,idPersona:e[r].idPersona,talentReview:e[r].valor,clima:"98",edd:e[r].edd,lupa:c,badges:e[r].atributos,critico:e[r].critico};o.push(l),null!=e[r]&&(n[e[r].idPosicion]={color:e[r].colorPosicion})}new getOrgChart(i,{theme:"ula",enableGridView:!0,depth:0,primaryFields:["Atributos","Nombre","Cargo"],enableZoomOnNodeDoubleClick:!0,orientation:getOrgChart.RO_LEFT_PARENT_TOP,renderNodeEvent:a,expandToLevel:1,photoFields:["Imagen"],enableZoom:!0,enablePrint:!0,levelSeparation:200,enableExportToImage:!0,enableDetailsView:!1,enableEdit:!1,scale:.5,maxDepth:8e3,dataSource:o,clickNodeEvent:t,secondParentIdField:"secondParenId",boxSizeInPercentage:{minBoxSize:{width:5,height:5},boxSize:{width:20,height:20},maxBoxSize:{width:100,height:100}},customize:n})},d=function(e){$.ajax({type:"GET",url:"/Talento/Persona/getPosiblesSucesores",contentType:"application/json; charset=utf-8",data:{idPosicion:e},dataType:"json",async:!1,success:function(e){n.posicion.colaboradores=e}})},c=function(e){$.ajax({type:"GET",url:"/Talento/Persona/getSucesores",contentType:"application/json; charset=utf-8",data:{idPosicion:e},dataType:"json",async:!1,success:function(e){n.posicion.sucesores=e}})},s=function(){var e={idProceso:"6b4071d1-0ff1-11e8-bf12-bc764e100f2b"};$.ajax({type:"GET",url:"/Talento/Talento/getOrganigrama",contentType:"application/json; charset=utf-8",data:e,dataType:"json",success:function(e){r(e)}})};$(document).ready(function(){s()})}});