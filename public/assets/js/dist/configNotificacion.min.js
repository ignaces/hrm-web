!function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=48)}({48:function(t,e,a){t.exports=a(49)},49:function(t,e){var a,n=function(t){a=t.target.files},i=function(){var t=new FormData;$.each(a,function(e,a){t.append("file",a,a.name)}),t.append("_csrf",$("input[name=_csrf]").val()),t.append("idNotificacion",$("#idNotificacion").val()),$.ajax({url:"/Mail/Notificaciones/loadFile",type:"POST",contentType:"application/json; charset=utf-8",data:t,processData:!1,contentType:!1,success:function(t,e,a){void 0===t.error?swal({title:"Exito",text:"Notificaciónes enviadas.",type:"success"}):c(t.error)},error:function(t,e,a){console.log("ERRORS: "+e)}})},o=function(){$("#notificacion_body").length>0&&tinymce.init({selector:"textarea#notificacion_body",height:500,theme:"modern",plugins:"print code preview fullpage searchreplace autolink directionality visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor insertdatetime advlist lists textcolor wordcount imagetools contextmenu colorpicker textpattern",toolbar1:"formatselect | fontselect | fontsizeselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat",toolbar2:"listPersona",fontsize_formats:"8pt 10pt 12pt 14pt 18pt 24pt 36pt",image_advtab:!0,images_upload_handler:function(t,e,a){var n=new FormData;n.append("file",t.blob(),t.filename()),$.ajax({type:"POST",url:"https://hrmassets.enovum.cl/Files/File/upload",contentType:"application/json; charset=utf-8",data:n,processData:!1,contentType:!1,success:function(t){e(t.location)}})},templates:[{title:"Test template 1",content:"Test 1"},{title:"Test template 2",content:"Test 2"}],content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","//www.tinymce.com/css/codepen.min.css"],setup:function(t){t.addButton("listPersona",{type:"listbox",text:"Persona",icon:!1,onselect:function(e){t.insertContent(this.value())},values:[{text:"Identificador",value:"#{Identificador}"},{text:"Nombre",value:"#{Nombres}"},{text:"Apellido Paterno",value:"#{ApellidoPaterno}"},{text:"Apellido Materno",value:"#{ApellidoMaterno}"},{text:"Contraseña",value:"#{Password}"},{text:"Usuario",value:"#{UserName}"},{text:"Empresa",value:"#{Empresa}"}],onPostRender:function(){this.value("&nbsp;<em>Some italic text!</em>")}})}})},c=function(t){var e="<ul>";for(var a in t)e+="<li>'"+t[a].email+"'</li>";e+="</ul>",swal({title:"Error",text:"Los siguientes correos presentan problemas por favor corrigelos y vuelve a intentar <br>"+e,type:"error"})};$(document).ready(function(){o(),$(":file").filestyle({input:!1}),$("#btnUpload").click(function(){i()}),$("#fExcel").on("change",n),$("#btnSend").click(function(){var t=$("#tag").val(),e=$("#emailTo").val(),a=$("#subject").val(),n=$("input[name=_csrf]").val(),i=tinyMCE.activeEditor.getContent(),o={tag:t,to:e,subject:a,body:i,_csrf:n};$.ajax({type:"POST",url:"/Mail/Mailgun/sendEmail",contentType:"application/json; charset=utf-8",data:JSON.stringify(o),dataType:"json",success:function(t){swal({title:"Exito",text:"Notificación de prueba enviada correctamente.",type:"success"})}})}),$("#btnSave").click(function(){var t=$("#tag").val(),e=$("#emailTo").val(),a=$("#subject").val(),n=$("#mask").val(),i=$("#idNotificacion").val(),o=$("#nombre").val(),c=$("input[name=_csrf]").val(),l=tinyMCE.activeEditor.getContent(),s=$("#idCliente").val(),r={tag:t,to:e,subject:a,body:l,_csrf:c,mask:n,idNotificacion:i,idCliente:s,nombre:o};$.ajax({type:"POST",url:"/Mail/Notificaciones/saveNotificacion",contentType:"application/json; charset=utf-8",data:JSON.stringify(r),dataType:"json",success:function(t){swal({title:"Exito",text:"Notificación guardada correctamente.",type:"success"})}})}),$("#btnCreate").click(function(){var t=$("#tag").val(),e=$("#emailTo").val(),a=$("#subject").val(),n=$("#mask").val(),i=$("#idCliente").val(),o=$("#nombre").val(),c=$("input[name=_csrf]").val(),l=tinyMCE.activeEditor.getContent(),s={tag:t,to:e,subject:a,body:l,_csrf:c,mask:n,idCliente:i,nombre:o};$.ajax({type:"POST",url:"/Mail/Notificaciones/addNotificacion",contentType:"application/json; charset=utf-8",data:JSON.stringify(s),dataType:"json",success:function(t){swal({title:"Exito",text:"Notificación creada correctamente.",type:"success"}).then(function(t){window.location="/Mail/Notificaciones/list"})}})})})}});